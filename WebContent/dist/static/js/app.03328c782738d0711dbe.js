webpackJsonp([1,0],[function(e,i,t){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var l=t(35),a=s(l),o=t(34),c=s(o),d=t(33),n=s(d),r=t(25),u=s(r),_=t(27),v=s(_),p=t(26),f=s(p),h=t(32),w=s(h);a["default"].use(c["default"]),a["default"].use(n["default"]);var g=new c["default"];g.map({"/":{component:u["default"]},user:{component:v["default"]},spend:{component:f["default"]},app:{component:u["default"]},success:{component:w["default"]}}),g.start(a["default"].extend({}),"#app")},function(e,i,t){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var l=t(29),a=s(l);i["default"]={data:function(){return{gridData:[]}},components:{"dp-item":a["default"]},ready:function(){this.getCustomers()},methods:{getCustomers:function(){var e=this;this.$http.get("test.php").then(function(i){console.log(i),e.$set("gridData",i.data)})["catch"](function(e){console.log(e)})}}}},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={data:function(){return{fee:0,reason:"",selectedProject:null,selectedUser:null,Projects:[],Users:[]}},ready:function(){this.getProjects(),this.getUsers()},methods:{getProjects:function(){var e=this;this.$http.get("user/getavailableprojects.php").then(function(i){e.$set("Projects",i.data)})["catch"](function(e){console.log(e)})},getUsers:function(){var e=this;this.$http.get("user/getusers.php",{params:{role:"user"}}).then(function(i){e.$set("Users",i.data)})["catch"](function(e){console.log(e)})},gocheck:function(){alert(this.selectedUser)}}}},function(e,i,t){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var l=t(30),a=s(l),o=t(28),c=s(o),d=t(31),n=s(d);i["default"]={data:function(){return{projectSelectShow:!1,isdiolog:!1,isloading:!1,fee:"",summary:"",reason:"",selectedProjectText:"请选择...",selectedUserText:"请选择...",selectedProject:"",selectedUser:"",Menus:{},Projects:{},Users:{}}},components:{"dp-loading":a["default"],"dp-dialog":c["default"],"dp-select":n["default"]},ready:function(){this.getProjects(),this.getUsers()},methods:{getProjects:function(){var e=this;this.$http.get("user/getavailableprojects.php").then(function(i){for(var t=i.data,s=0;s<t.length;s++){var l=t[s].projectId,a=t[s].projectName;e.Projects[l]=a}})["catch"](function(e){console.log(e)})},handleDialogAction:function(e){"确定"===e?(this.isdiolog=!1,this.createSpend()):this.isdiolog=!1},getUsers:function(){var e=this;this.$http.get("user/getusers.php",{params:{role:"user"}}).then(function(i){for(var t=i.data,s=0;s<t.length;s++){var l=t[s].userid,a=t[s].name;e.Users[l]=a}})["catch"](function(e){console.log(e)})},doSelectProject:function(){this.projectSelectShow=!0,this.Menus=this.Projects},doSelectUser:function(){this.projectSelectShow=!0,this.Menus=this.Users},handleProjectMenuClick:function(e){this.projectSelectShow=!1,this.Menus==this.Projects?(this.selectedProject=e,this.selectedProjectText=this.Projects[e]):(this.Menus=this.Users)&&(this.selectedUser=e,this.selectedUserText=this.Users[e])},handleProjectCancelClick:function(e){},gocheck:function(){return 0==this.fee?void alert("请填写金额"):""==this.sumary?void alert("请填写摘要"):""==this.selectedProject?void alert("请选择所属科目"):""==this.selectedUser?void alert("请选择审批上级"):void(this.isdiolog=!0)},createSpend:function(){var e=this;this.isloading=!0;({fee:this.fee,summary:this.summary,reason:this.reason,projectId:this.selectedProject,checkId:this.selectedUser});this.$http.post("user/newspend.php",{fee:this.fee,summary:this.summary,reason:this.reason,projectId:this.selectedProject,checkId:this.selectedUser}).then(function(i){1==i.data?e.$router.go("success"):(e.isloading=!1,console.log(i))})["catch"](function(e){this.isloading=!1,console.log(e)})}}}},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={data:function(){return{hide:"dp-hide"}},props:["tittle","context","show"],methods:{dispathEventAndClose:function(e){this.$dispatch(e)}}}},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={data:function(){return{todo:"",condition:!1}},props:["rolename","roleid"],methods:{getTodo:function(){var e=this;this.$http.get("user/gettodo.php",{params:{role:this.roleid}}).then(function(i){alert(i.data),i.data>0&&(e.condition=!0,e.todo=i.data)})["catch"](function(e){console.log(e)})}},ready:function(){this.getTodo()}}},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={data:function(){return{hide:"dp-hide"}},props:["msg","show"]}},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={props:{show:{type:Boolean,required:!0,twoWay:!0},menus:{type:Object,required:!1,"default":{}}},methods:{dispatchEvent:function(e,i){this.$dispatch(e,i),"cancel-click"===e&&this.hideActionSheet()},hideActionSheet:function(){this.show=!1}}}},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={data:function(){return{msg:"hello vue"}}}},function(e,i){},function(e,i){},function(e,i){},function(e,i){},function(e,i){},function(e,i){},function(e,i){},function(e,i){},function(e,i){e.exports=" <div class=main-title><h1 class=dp-golden>DP</h1><h1>费用系统</h1></div> <div id=mainApp class=weui_grids> <dp-item v-for=\"item in gridData | filterBy '1' in  'roleType'\" :roleid=item.roleId :rolename=item.roleName></dp-item> </div> "},function(e,i){e.exports=' <div class=""> <div class="weui_cells weui_cells_form"> <div class=weui_cells_title>费用</div> <div class=weui_cell> <div class=weui_cell_hd><label class=weui_label>报销金额：</label></div> <div class="weui_cell_bd weui_cell_primary"> <input type=number step=0.01 placeholder=元 class=weui_input :value=fee> </div> </div> <div class=weui_cells_title>归属</div> <div class=weui_cell> <div class=weui_cell_hd><label class=weui_label>常规支出：</label> </div> <div class="weui_cell_bd weui_cell_primary"> <div class=weui_input> <select v-model=selectedProject> <option v-for="project in Projects | filterBy \'0\' in \'projectType\'">{{project.projectName}}</option> </select> </div> </div> </div> <div class=weui_cell> <div class=weui_cell_hd><label class=weui_label>生产项目：</label> </div> <div class="weui_cell_bd weui_cell_primary"> <div class=weui_input> <select v-model=selectedProject> <option v-for="project in Projects | filterBy \'1\' in \'projectType\'">{{project.projectName}}</option> </select> </div> </div> </div> <div class=weui_cells_title>明细</div> <div class=weui_cell> <div class="weui_cell_bd weui_cell_primary"> <textarea rows=3 placeholder=请输入详情 maxlength=255 class=weui_textarea :content=reason></textarea> </div> </div> <div class=weui_cell> <div class=weui_cell_hd><label class=weui_label>指定上级：</label> </div> <div class="weui_cell_bd weui_cell_primary"> <div class=weui_input> <select v-model=selectedUser> <option v-for="user in Users" :value=user.userid>{{user.name}}</option> </select> </div> </div> </div> </div> </div> <div class=weui_btn_area> <a id=showTooltips href=javascript: @click=gocheck class="weui_btn weui_btn_primary">确定</a> </div> '},function(e,i){e.exports=' <div v-bind:class="[show? \'\': hide]" id=dialog1 class=weui_dialog_confirm> <div class=weui_mask></div> <div class=weui_dialog> <div class=weui_dialog_hd><strong class=weui_dialog_title>{{tittle}}</strong></div> <div class=weui_dialog_bd>{{context}}</div> <div class=weui_dialog_ft> <a class="weui_btn_dialog default" href=javascript:; @click="dispathEventAndClose(\'dialog-cancel\')">取消</a> <a class="weui_btn_dialog primary" href=javascript:; @click="dispathEventAndClose(\'dialog-confirm\')">确定</a> </div> </div> </div> '},function(e,i){e.exports=' <div v-bind:class="[show? \'\': hide]" class=weui_loading_toast id=loadingToast> <div class=weui_mask_transparent></div> <div class=weui_toast> <div class=weui_loading> <div class="weui_loading_leaf weui_loading_leaf_0"></div> <div class="weui_loading_leaf weui_loading_leaf_1"></div> <div class="weui_loading_leaf weui_loading_leaf_2"></div> <div class="weui_loading_leaf weui_loading_leaf_3"></div> <div class="weui_loading_leaf weui_loading_leaf_4"></div> <div class="weui_loading_leaf weui_loading_leaf_5"></div> <div class="weui_loading_leaf weui_loading_leaf_6"></div> <div class="weui_loading_leaf weui_loading_leaf_7"></div> <div class="weui_loading_leaf weui_loading_leaf_8"></div> <div class="weui_loading_leaf weui_loading_leaf_9"></div> <div class="weui_loading_leaf weui_loading_leaf_10"></div> <div class="weui_loading_leaf weui_loading_leaf_11"></div> </div> <p class=weui_toast_content>{{msg}}</p> </div> </div> '},function(e,i){e.exports=' <div class=weui_msg> <div class=weui_icon_area><i class="weui_icon_success weui_icon_msg"></i></div> <div class=weui_text_area> <h2 class=weui_msg_title>操作成功</h2> <p class=weui_msg_desc>请等待后续跟进通知</p> </div> <div class=weui_opr_area> <p class=weui_btn_area> <a class="weui_btn weui_btn_primary" href=#!/app>确定</a> </p> </div> <div class=weui_extra_area> <a href=""></a> </div> </div> '},function(e,i){e.exports=' <div class="" _v-529ac8d4=""> <div class="weui_cells weui_cells_form" _v-529ac8d4=""> <div class=weui_cells_title _v-529ac8d4="">费用</div> <div class=weui_cell _v-529ac8d4=""> <div class=weui_cell_hd _v-529ac8d4=""><label class=weui_label _v-529ac8d4="">报销金额：</label></div> <div class="weui_cell_bd weui_cell_primary" _v-529ac8d4=""> <input type=number step=0.01 placeholder=元 class=weui_input v-model=fee _v-529ac8d4=""> </div> </div> <div class=weui_cells_title _v-529ac8d4="">归属</div> <div class=weui_cell _v-529ac8d4=""> <div class=weui_cell_hd _v-529ac8d4=""><label class=weui_label _v-529ac8d4="">所属项目：</label> </div> <div class="weui_cell_bd weui_cell_primary" _v-529ac8d4=""> <div class=weui_input _v-529ac8d4=""> <a href=javascript: class=prjSelect @click=doSelectProject _v-529ac8d4="">{{selectedProjectText}}</a> </div> </div> </div> <div class=weui_cells_title _v-529ac8d4="">明细</div> <div class=weui_cell _v-529ac8d4=""> <div class=weui_cell_hd _v-529ac8d4=""><label class=weui_label _v-529ac8d4="">报销摘要：</label></div> <div class="weui_cell_bd weui_cell_primary" _v-529ac8d4=""> <input type=text placeholder=40字以内 maxlength=40 class=weui_input v-model=summary _v-529ac8d4=""> </div> </div> <div class=weui_cell _v-529ac8d4=""> <div class="weui_cell_bd weui_cell_primary" _v-529ac8d4=""> <textarea rows=3 placeholder=请输入详情 maxlength=255 class=weui_textarea v-model=reason _v-529ac8d4=""></textarea> </div> </div> <div class=weui_cells_title _v-529ac8d4="">审批</div> <div class=weui_cell _v-529ac8d4=""> <div class=weui_cell_hd _v-529ac8d4=""><label class=weui_label _v-529ac8d4="">指定上级：</label> </div> <div class="weui_cell_bd weui_cell_primary" _v-529ac8d4=""> <div class=weui_input _v-529ac8d4=""> <a href=javascript: class=prjSelect @click=doSelectUser _v-529ac8d4="">{{selectedUserText}}</a> </div> </div> </div> </div> <div class=weui_btn_area _v-529ac8d4=""> <a id=showTooltips href=javascript: @click=gocheck class="weui_btn weui_btn_primary" _v-529ac8d4="">确定</a> </div> </div> <dp-loading msg=正在提交 :show=isloading _v-529ac8d4=""></dp-loading> <dp-dialog title=提交报销 context=您的报销申请将会提交到指定上级审批 :show=isdiolog @dialog-confirm="handleDialogAction(\'确定\')" @dialog-cancel="handleDialogAction(\'取消\')" _v-529ac8d4=""></dp-dialog> <dp-select id=projectSelect :show.sync=projectSelectShow :menus=Menus @menu-click=handleProjectMenuClick @cancle-click=handleProjectCancelClick _v-529ac8d4=""></dp-select> '},function(e,i){e.exports=' <div class=actionsheet_wrap _v-817590d8=""> <div class=weui_mask_transition :class="{\'weui_fade_toggle\': show}" :style="{display: show ? \'block\' : \'none\'}" @click=hideActionSheet _v-817590d8=""></div> <div class=weui_actionsheet :class="{\'weui_actionsheet_toggle\': show}" _v-817590d8=""> <div class=weui_actionsheet_menu _v-817590d8=""> <div class=weui_actionsheet_cell v-for="(key, text) in menus" @click="dispatchEvent(\'menu-click\', key)" _v-817590d8=""> {{{text}}} </div> </div> <div class=weui_actionsheet_action _v-817590d8=""> <div class=weui_actionsheet_cell @click="dispatchEvent(\'cancel-click\',\'0\')" _v-817590d8=""> 取消 </div> </div> </div> </div> '},function(e,i){e.exports=' <a class=weui_grid href=#/{{roleid}} _v-8a4e464e=""> <div class="weui_grid_icon dp-width" _v-8a4e464e=""> <i class="icon icon_button" _v-8a4e464e=""></i><i class=redCircle v-show=condition _v-8a4e464e="">{{todo}}</i> </div> <p class=weui_grid_label _v-8a4e464e=""> {{rolename}} </p> </a> '},function(e,i,t){var s,l;t(9),s=t(1),l=t(17),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),l&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)},function(e,i,t){var s,l;t(10),s=t(2),l=t(18),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),l&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)},function(e,i,t){var s,l;t(14),s=t(3),l=t(22),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),l&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)},function(e,i,t){var s,l;t(11),s=t(4),l=t(19),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),l&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)},function(e,i,t){var s,l;t(16),s=t(5),l=t(24),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),l&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)},function(e,i,t){var s,l;t(12),s=t(6),l=t(20),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),l&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)},function(e,i,t){var s,l;t(15),s=t(7),l=t(23),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),l&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)},function(e,i,t){var s,l;t(13),s=t(8),l=t(21),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),l&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=l)}]);
//# sourceMappingURL=app.03328c782738d0711dbe.js.map